<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Bootstrap 3 -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="css/main.css">
	</head>	
	<body>
		<!-- Button trigger modal -->
		<div id="video-list">
			<ul class="item-list" data-bind="foreach: videosList">
			<li data-bind="click: $parent.setSelectedVideo,text: title" data-toggle="modal" data-target="#trailer"></li>
			</ul>
		</div>

		<!-- Modal -->
		<div class="container" data-bind="with: currentVideo">
			<!-- Modal -->
			<div class="modal" id="trailer" role="dialog">
				<div class="modal-dialog">
					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" data-bind="click: $parent.removeSrc">&times;</button>
							<h4 class="modal-title" data-bind="text: title"></h4>
						</div>
						<div class="modal-body">
							<iframe id="video-window" src="" frameborder="0" width="450px" height="300px" allowfullscreen="" alt="Youtube video" data-bind="attr: {src: videoSrc}"></iframe>
						</div>	
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			$(document).ready(function(){
			try {
			$("#trailer").on('hide.bs.modal', function(){
				$("#video-window").attr('src', '');
			});
			$('#trailer button').click(function () {
				$('#video-window').removeAttr('src');
			});
			}catch(exception) {
				$("#video-window").attr('src', '');
			}
			});
			
		</script>
		<script src="js/lib/knockout-3.4.1.js"></script>
		<script src="js/model.js"></script>
		<script src="js/songView.js"></script>
	</body>
</html>	