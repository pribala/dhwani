<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Bootstrap 3 -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="css/main.css">
	</head>	
	<body>
	<header class="row main-header">
			<div class="col-md-12 text-center">
				<h1>Dhwani - The Sound of Music</h1>
			</div>	
		</header>
		<div class="container-nav">
		<nav class="navbar navbar-dark bg-inverse">
			<a class="navbar-brand" href="#"><img class="logo" src="static/clef.jpg" alt="Logo - treble clef"></a>
			<ul class="nav navbar-nav">
				<li class="nav-item">
					<a class="nav-link" href="index.html">Home</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="saralivarisai.html">Swaravali</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="alankaram.html">Alankaram</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="geetham.html">Geetham</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="bhajans.html">Bhajans</a>
				</li>
				<li class="nav-item  active">
					<a class="nav-link" href="videos.html">Videos<span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="static/worksheets.pdf">Printables</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="about.html">About</a>
				</li>
			</ul>
			<form class="navbar-form navbar-right" role="search">
				<div class="form-group">
					<input class="form-control" type="text" placeholder="Search">
				</div>
				<button class="btn btn-warning-outline btn-position" type="submit">Search</button>
			</form>
		</nav>
		</div>
		<!-- List of videos -->
		<div class="container">
		<div class="row">
			<div class="col-sm-3">
				<div class="card  video-list-container">
					<div class="card-block">
					<h3 class="card-title text-center">Hindi/Sanskrit</h3>
					<p class="card-text">
						<div id="video-list">
							<ul class="item-list" data-bind="foreach: videosList">
								<div data-bind="if: language === 'Sanskrit' || language === 'Hindi'">
									<li class="video-list-item" data-bind="click: $parent.setSelectedVideo,text: title" data-toggle="modal" data-target="#trailer"></li>
								</div>	
							</ul>
						</div>
					</p>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="card  video-list-container">
					<div class="card-block">
					<h3 class="card-title text-center">Tamil</h3>
					<p class="card-text">
						<div id="video-list">
							<ul class="item-list" data-bind="foreach: videosList">
								<div data-bind="if: language === 'Tamil'">
									<li class="video-list-item" data-bind="click: $parent.setSelectedVideo,text: title" data-toggle="modal" data-target="#trailer"></li>
								</div>	
							</ul>
						</div>
					</p>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="card video-list-container">
					<div class="card-block">
					<h3 class="card-title text-center">Telugu</h3>
					<p class="card-text">
						<div id="video-list">
							<ul class="item-list" data-bind="foreach: videosList">
								<div data-bind="if: language === 'Telugu'">
									<li class="video-list-item" data-bind="click: $parent.setSelectedVideo,text: title" data-toggle="modal" data-target="#trailer"></li>
								</div>	
							</ul>
						</div>
					</p>
					</div>
				</div>
			</div>
			<div class="col-sm-3">
				<div class="card video-list-container">
					<div class="card-block">
					<h3 class="card-title text-center">Kannada</h3>
					<p class="card-text">
						<div id="video-list">
							<ul class="item-list" data-bind="foreach: videosList">
								<div data-bind="if: language === 'Kannada'">
									<li class="video-list-item" data-bind="click: $parent.setSelectedVideo,text: title" data-toggle="modal" data-target="#trailer"></li>
								</div>	
							</ul>
						</div>
					</p>
					</div>
				</div>
			</div>
		</div>
	</div>
		
		<!-- Modal -->
		<div class="container" data-bind="with: currentVideo">
			<!-- Modal -->
			<div class="modal" id="trailer" role="dialog">
				<div class="modal-dialog">
					<!-- Modal content-->
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" data-bind="click: $parent.removeSrc">&times;</button>
							<h4 class="modal-title" data-bind="text: title"></h4>
						</div>
						<div class="modal-body">
							<iframe id="video-window" src="" frameborder="0" width="450px" height="300px" allowfullscreen="" alt="Youtube video" data-bind="attr: {src: videoSrc}"></iframe>
						</div>	
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			$(document).ready(function(){
			try {
			$("#trailer").on('hide.bs.modal', function(){
				$("#video-window").attr('src', '');
			});
			$('#trailer button').click(function () {
				$('#video-window').removeAttr('src');
			});
			}catch(exception) {
				$("#video-window").attr('src', '');
			}
			});
			
		</script>
		<script src="js/lib/knockout-3.4.1.js"></script>
		<script src="js/model.js"></script>
		<script src="js/songView.js"></script>
	</body>
</html>	